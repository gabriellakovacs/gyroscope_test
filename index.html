<!doctype html>
<html>
<head>
    <title>mirror</title>
    <style>

    body {
        margin: 0;
        padding: 0;
    }

    html {
        overflow: hidden;
    }
    </style>

</head>
<body>
    <canvas id="canvas"></canvas>

    <script>
    var canvas = document.getElementById('canvas');
    var c = canvas.getContext('2d');

    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    var w = window.innerWidth;
    var h = window.innerHeight;

    c.fillStyle = "#0055ff";
    c.fillRect(0,h/2,w,h);

    function Line (slope, p){
        this.slope = slope;
        this.constant = p.y - slope * p.x;
    }

    Line.prototype.getpY = function(pX) {
        return pX * this.slope + this.constant;

    };   



    function drawQuadrangle (p1, p2, p3, p4, color){
        c.fillStyle = color;
        c.beginPath();
        c.moveTo(p1.x, p1.y);
        c.lineTo(p2.x, p2.y);
        c.lineTo(p3.x, p3.y);
        c.lineTo(p4.x, p4.y);
        c.fill();
    }




    var center = new Point(viewportW/2, viewportH/2);



    window.ondeviceorientation = function(event) {
        alpha = Math.round(event.alpha);
        beta = Math.round(event.beta);

        var rotatedline = new Line(alpha, center);


        var p1 = new Point(0, rotatedline.getpY(0));
        var p2 = new Point(viewportW, rotatedline.getpY(viewportW));
        var p3 = new Point(viewportW, viewportH);
        var p4 = new Point(0, viewportH);

        drawQuadrangle(p1, p2, p3, p4, "#0055ff");
    }


    </script>
</body>
</html>